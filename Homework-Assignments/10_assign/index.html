<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Books - ExpressJS Web Application</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>

<body>

    <!-- inline script  -->
    <script>
        $(document).ready(function () {
            let asyncRequest;

            $("#submit").click(function () {
                let title = $("#title").val();
                let url = "http://localhost:3000/book?title=" + title;
                let xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function () {
                    if (this.readyState == 4 && this.status == 200) {
                        let info = JSON.parse(this.responseText);
                        $("#data-title").val(info.book.title);
                        $("#data-author").val(info.book.author);
                        $("#data-pages").val(info.book.pages);
                        $("#data-condition").val(info.book.quality);
                    }
                };
                xhttp.open("GET", url, true);
                xhttp.send();
            });
        });
    </script>
    <!-- inline styling  -->
    <style>
        input {
            width: 100px
        }

        label {
            display: inline-block;
            text-align: right;
        }

        #output {
            width: 200px
        }

        .data {
            margin-bottom: 5px;
        }

        .finput {
            float: right;
        }
    </style>
    </head>

    <body>
        <div class="search">
            Search Book Title:<br><br>
            <input id="title" type="text" name="book_title" />
            <button id="submit" type="button">Search</button><br><br>
        </div>
        <div id="output">
            Data:<br><br>
            <label class="data" for="data-title">Title</label>
            <input id="data-title" class="finput" type="text" name="book_info" />
            <br>
            <label class="data" for="data-author">Author</label>
            <input id="data-author" class="finput" type="text" name="book_info" />
            <br>
            <label class="data" for="data-pages"># Pages</label>
            <input id="data-pages" class="finput" type="text" name="book_info" />
            <br>
            <label class="data" for="data-condition">Condition</label>
            <input id="data-condition" class="finput" type="text" name="book_info" />
        </div>


    </body>

</html>